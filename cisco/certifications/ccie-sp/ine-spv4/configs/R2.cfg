ip multicast-routing distributed
!
interface Loopback0
 ip address 2.2.2.2 255.255.255.255
 ipv6 address 2001::2:2:2:2/128
{{- if .Env.MULTICAST }}
ip pim sparse-mode
{{- end}}
!
{{- if .Env.ISIS }}
router isis 1
 net 49.0000.0000.0000.0002.00
 is-type level-2-only
 metric-style wide
 advertise passive-only
 passive-interface Loopback0
 address-family ipv6
  multi-topology
  advertise passive-only
{{- if .Env.LDP }}
 mpls ldp autoconfig
{{- end}}
!
{{- end}}
interface GigabitEthernet2
 no shutdown
 no ip address
 negotiation auto
 no mop enabled
 no mop sysid
 service instance 4094 ethernet
  encapsulation dot1q 4094
!
interface GigabitEthernet2.12
 no shutdown
 encapsulation dot1Q 12
 ip address 10.1.2.2 255.255.255.0
 ipv6 address 2001:10:1:2::2/64
{{- if not .Env.CE }}
 isis network point-to-point
 ip router isis 1
 ipv6 router isis 1
{{- end}}
{{- if .Env.MULTICAST }}
ip pim sparse-mode
{{- end}}
!
interface GigabitEthernet2.23
 no shutdown
 encapsulation dot1Q 23
 ip address 20.2.3.2 255.255.255.0
 ipv6 address 2001:20:2:3::2/64
{{- if .Env.ISIS }}
 isis network point-to-point
 ip router isis 1
 ipv6 router isis 1
{{- end}}
{{- if .Env.MULTICAST }}
ip pim sparse-mode
{{- end}}
!
interface GigabitEthernet2.24
 no shutdown
 encapsulation dot1Q 24
 ip address 20.2.4.2 255.255.255.0
 ipv6 address 2001:20:2:4::2/64
{{- if .Env.ISIS }}
 isis network point-to-point
 ip router isis 1
 ipv6 router isis 1
{{- end}}
{{- if .Env.MULTICAST }}
ip pim sparse-mode
{{- end}}
!
{{- if .Env.LDP }}
mpls ldp router-id Loopback0
{{- end}}
!
{{- if .Env.BGP }}
router bgp 100
 bgp router-id 2.2.2.2
 bgp log-neighbor-changes
 no bgp default ipv4-unicast
{{- end}}

 