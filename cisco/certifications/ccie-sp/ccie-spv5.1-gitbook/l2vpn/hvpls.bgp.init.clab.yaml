name: l2vpn
topology:
  groups:
    cisco_csr1000v:
      image: cisco_csr_1000v:17.03.06
    cisco_xrd:
      image: cisco_xrd:7.10.2
    iol:
      image: cisco_iol:17.12.01
  links:
  - endpoints:
    - R1:eth1
    - R3:eth1
  - endpoints:
    - R1:eth2
    - R4:eth3
  - endpoints:
    - R1:eth3
    - CE1:eth1
  - endpoints:
    - R1:eth4
    - CE12:eth1
  - endpoints:
    - R1:eth5
    - R2:eth5
  - endpoints:
    - R3:eth2
    - R5:eth1
  - endpoints:
    - R3:eth3
    - R2:eth2
  - endpoints:
    - R3:eth4
    - R6:eth3
  - endpoints:
    - R3:eth5
    - CE2:eth1
  - endpoints:
    - R3:eth6
    - R4:eth6
  - endpoints:
    - R5:eth2
    - XR1:Gi0-0-0-0
  - endpoints:
    - R5:eth3
    - R4:eth4
  - endpoints:
    - R5:eth4
    - XR2:Gi0-0-0-1
  - endpoints:
    - R5:eth5
    - CE3:eth1
  - endpoints:
    - R5:eth6
    - R6:eth6
  - endpoints:
    - R2:eth1
    - R4:eth1
  - endpoints:
    - R2:eth3
    - CE10:eth1
  - endpoints:
    - R2:eth4
    - CE11:eth1
  - endpoints:
    - R4:eth2
    - R6:eth1
  - endpoints:
    - R4:eth5
    - CE9:eth1
  - endpoints:
    - R6:eth2
    - XR2:Gi0-0-0-0
  - endpoints:
    - R6:eth4
    - XR1:Gi0-0-0-1
  - endpoints:
    - R6:eth5
    - CE8:eth1
  - endpoints:
    - XR1:Gi0-0-0-4
    - XR2:Gi0-0-0-4
  - endpoints:
    - XR1:Gi0-0-0-2
    - CE4:eth1
  - endpoints:
    - XR1:Gi0-0-0-3
    - CE5:eth1
  - endpoints:
    - XR2:Gi0-0-0-2
    - CE7:eth1
  - endpoints:
    - XR2:Gi0-0-0-3
    - CE6:eth1
  nodes:
    CE1:
      binds:
      - lab_configs/CE1/blank.cfg:/config/startup-config.cfg
      group: iol
      startup-config: lab_configs/CE1/hvpls.bgp.init.cfg
    CE10:
      binds:
      - lab_configs/CE10/blank.cfg:/config/startup-config.cfg
      group: iol
    CE11:
      binds:
      - lab_configs/CE11/blank.cfg:/config/startup-config.cfg
      group: iol
    CE12:
      binds:
      - lab_configs/CE12/blank.cfg:/config/startup-config.cfg
      group: iol
    CE2:
      binds:
      - lab_configs/CE2/blank.cfg:/config/startup-config.cfg
      group: iol
      startup-config: lab_configs/CE2/hvpls.bgp.init.cfg
    CE3:
      binds:
      - lab_configs/CE3/blank.cfg:/config/startup-config.cfg
      group: iol
      startup-config: lab_configs/CE3/hvpls.bgp.init.cfg
    CE4:
      binds:
      - lab_configs/CE4/blank.cfg:/config/startup-config.cfg
      group: iol
    CE5:
      binds:
      - lab_configs/CE5/blank.cfg:/config/startup-config.cfg
      group: iol
    CE6:
      binds:
      - lab_configs/CE6/blank.cfg:/config/startup-config.cfg
      group: iol
    CE7:
      binds:
      - lab_configs/CE7/blank.cfg:/config/startup-config.cfg
      group: iol
    CE8:
      binds:
      - lab_configs/CE8/blank.cfg:/config/startup-config.cfg
      group: iol
    CE9:
      binds:
      - lab_configs/CE9/blank.cfg:/config/startup-config.cfg
      group: iol
    R1:
      group: cisco_csr1000v
      startup-config: lab_configs/R1/hvpls.bgp.init.cfg
    R2:
      group: cisco_csr1000v
      startup-config: lab_configs/R2/hvpls.bgp.init.cfg
    R3:
      group: cisco_csr1000v
      startup-config: lab_configs/R3/hvpls.bgp.init.cfg
    R4:
      group: cisco_csr1000v
      startup-config: lab_configs/R4/hvpls.bgp.init.cfg
    R5:
      group: cisco_csr1000v
      startup-config: lab_configs/R5/hvpls.bgp.init.cfg
    R6:
      group: cisco_csr1000v
      startup-config: lab_configs/R6/hvpls.bgp.init.cfg
    XR1:
      group: cisco_xrd
    XR2:
      group: cisco_xrd
