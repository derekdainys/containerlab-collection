name: l2vpn
topology:
  groups:
    iol:
      image: cisco_iol:17.12.01
    cisco_xrd:
      image: cisco_xrd:7.10.2
    cisco_csr1000v:
      image: cisco_csr_1000v:17.03.06
  nodes:
    XR1:
      group: cisco_xrd
      startup-config: lab_configs/XR1/isis.cfg
    XR2:
      group: cisco_xrd
      startup-config: lab_configs/XR2/isis.cfg
    R1:
      group: cisco_csr1000v
    R2:
      group: cisco_csr1000v
    R3:
      group: cisco_csr1000v
    R4:
      group: cisco_csr1000v
    R5:
      group: cisco_csr1000v
    R6:
      group: cisco_csr1000v
    CE1:
      group: iol
      binds:
        - lab_configs/CE1/blank.cfg:/config/startup-config.cfg
    CE2:
      group: iol
      binds:
        - lab_configs/CE2/blank.cfg:/config/startup-config.cfg
    CE3:
      group: iol
      binds:
        - lab_configs/CE3/blank.cfg:/config/startup-config.cfg
    CE4:
      group: iol
      binds:
        - lab_configs/CE4/blank.cfg:/config/startup-config.cfg
    CE5:
      group: iol
      binds:
        - lab_configs/CE5/blank.cfg:/config/startup-config.cfg
    CE6:
      group: iol
      binds:
        - lab_configs/CE6/blank.cfg:/config/startup-config.cfg
    CE7:
      group: iol
      binds:
        - lab_configs/CE7/blank.cfg:/config/startup-config.cfg
    CE8:
      group: iol
      binds:
        - lab_configs/CE8/blank.cfg:/config/startup-config.cfg
    CE9:
      group: iol
      binds:
        - lab_configs/CE9/blank.cfg:/config/startup-config.cfg
    CE10:
      group: iol
      binds:
        - lab_configs/CE10/blank.cfg:/config/startup-config.cfg
    CE11:
      group: iol
      binds:
        - lab_configs/CE11/blank.cfg:/config/startup-config.cfg
    CE12:
      group: iol
      binds:
        - lab_configs/CE12/blank.cfg:/config/startup-config.cfg
  links:
    - endpoints: ["R1:eth1","R3:eth1"]
    - endpoints: ["R1:eth2","R4:eth3"]
    - endpoints: ["R1:eth3","CE1:eth1"]
    - endpoints: ["R1:eth4","CE12:eth1"]
    - endpoints: ["R1:eth5","R2:eth5"]
    - endpoints: ["R3:eth2","R5:eth1"]
    - endpoints: ["R3:eth3","R2:eth2"]
    - endpoints: ["R3:eth4","R6:eth3"]
    - endpoints: ["R3:eth5","CE2:eth1"]
    - endpoints: ["R3:eth6","R4:eth6"]
    - endpoints: ["R5:eth2","XR1:Gi0-0-0-0"]
    - endpoints: ["R5:eth3","R4:eth4"]
    - endpoints: ["R5:eth4","XR2:Gi0-0-0-1"]
    - endpoints: ["R5:eth5","CE3:eth1"]
    - endpoints: ["R5:eth6","R6:eth6"]
    - endpoints: ["R2:eth1","R4:eth1"]
    - endpoints: ["R2:eth3","CE10:eth1"]
    - endpoints: ["R2:eth4","CE11:eth1"]
    - endpoints: ["R4:eth2","R6:eth1"]
    - endpoints: ["R4:eth5","CE9:eth1"]
    - endpoints: ["R6:eth2","XR2:Gi0-0-0-0"]
    - endpoints: ["R6:eth4","XR1:Gi0-0-0-1"]
    - endpoints: ["R6:eth5","CE8:eth1"]
    - endpoints: ["XR1:Gi0-0-0-4","XR2:Gi0-0-0-4"]
    - endpoints: ["XR1:Gi0-0-0-2","CE4:eth1"]
    - endpoints: ["XR1:Gi0-0-0-3","CE5:eth1"]
    - endpoints: ["XR2:Gi0-0-0-2","CE7:eth1"]
    - endpoints: ["XR2:Gi0-0-0-3","CE6:eth1"]